<p>create-users works!</p>

<h1 class="text-center text-white mt-3">Ajoutez des utilisateurs</h1>


<mat-tab-group dynamicHeight class="mat-tab-group">

    <mat-tab label="Ajoutez un utilisateur" >
        <div class="content">
            <form [formGroup]="formGroup"
            (ngSubmit)="onSubmitFormGroup()">
        
                <!-- Last name field-->
                <mat-form-field class="form-field">
                    <mat-label>Nom de l'utilisateur</mat-label>
                    <input matInput formControlName="userLastName"/>
                    <mat-error *ngIf="formGroup.get('userLastName')?.hasError('required')">
                        Nom de l'utilisateur requis
                    </mat-error>
                </mat-form-field>    
            
                <mat-form-field class="form-field">
                    <mat-label>Prénom de l'utilisateur</mat-label>
                    <input matInput formControlName="userFirstName"/>
                    <mat-error *ngIf="formGroup.get('userFirstName')?.hasError('required')">
                        Prénom de l'utilisateur requis
                    </mat-error>
                </mat-form-field>
            
                <!-- TODO: Create an input field for an email -->
                <mat-form-field class="form-field">
                    <mat-label>Email de l'utilisateur</mat-label>
                    <input matInput formControlName="userEmail"/>
                    <mat-error *ngIf="formGroup.get('userEmail')?.hasError('required')">
                        Email de l'utilisateur requis
                    </mat-error>    
                </mat-form-field>
                
                <button [disabled]="!formGroup.valid" type="submit" mat-raised-button color="primary">Envoyer</button>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Ajoutez plusieurs utilisateurs" class="text-white">
        <div class="tab2">
        <form [formGroup]="formGroupMultiple"
        (ngSubmit)="onSubmitFormGroupMultiple()">
            <input #fileSelector type="file" style="display: none;" (change)="onSelectedFile($event)">
            <div>
                <button type="button" mat-mini-fab color="accent" (click)="fileSelector.click()" accept=".csv">
                    <mat-icon>attach_file</mat-icon>
                </button>
                <br>
                <span>{{ file != null ? file.name : "Sélectionnez un fichier CSV" }}</span>
            </div>
            <br>
            <button [disabled]="!file?.name?.endsWith('.csv')" type="submit" mat-raised-button color="primary" class="mt-3">Envoyer</button>
        </form>
        
        </div>
    </mat-tab>
</mat-tab-group>

