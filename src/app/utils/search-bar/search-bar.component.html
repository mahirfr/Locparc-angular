<form [formGroup]="searchForm">
    <input class="form-control mx-auto" type="text" [(ngModel)]="searchQuery" name="search" (input)="search()" autocomplete="off" placeholder="Saisir le nom d'un element" [ngModelOptions]="{standalone: true}">
    
<h3 class="text-center text-white mt-3">Filtrer par categorie</h3>

    <!-- TODO: add a quantity left field -->
    <div class="d-flex justify-content-center text-white">
        <mat-form-field>
            <mat-label>Categories</mat-label>
            <mat-select  formControlName="selectedSubCategories" multiple (selectionChange)="onSelectedValuesChange()">
                <mat-optgroup *ngFor="let category of categories" [label]="category.name">
                <mat-option *ngFor="let subCat of category.subCategories" [value]="subCat.name">
                    {{subCat.name}}
                </mat-option>
                </mat-optgroup>
            </mat-select>
        </mat-form-field>
    </div>

</form>
<div class="d-flex justify-content-center mt-5">
    <div class="" >
        <div class="m-3" *ngFor="let item of searchResults">
            
            <mat-card class="example-card" *ngIf="searchResults.length > 0">
                <mat-card-header>
                    <mat-card-title-group>
                        <mat-card-title class="me-2">{{ item.name }}</mat-card-title>
                        <mat-card-subtitle>{{ item.description }}</mat-card-subtitle>
                        <img mat-card-md-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" >
                    </mat-card-title-group>
                </mat-card-header>
                <mat-card-actions class="mx-auto">
                    <button mat-raised-button color="accent" class="me-1">Consulter</button>
                    <button mat-raised-button color="primary">Ajouter au panier</button>
                </mat-card-actions>
            </mat-card>

        </div>
    </div> 
</div>